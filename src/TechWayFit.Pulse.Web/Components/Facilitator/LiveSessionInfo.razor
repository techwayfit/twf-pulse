@using TechWayFit.Pulse.Contracts.Responses
@using TechWayFit.Pulse.Contracts.Enums
@using TechWayFit.Pulse.Web.Models
@using TechWayFit.Pulse.Web.Components.Shared

<!-- Session Information -->
<div class="">
    <div class="py-4">
        <StatCards Cards="@GetStatCards()" />
    </div>
</div>

@code {
    [Parameter]
    public int ParticipantCount { get; set; }

    [Parameter, EditorRequired]
    public List<AgendaActivityResponse> Activities { get; set; } = new();

    private List<StatCardData> GetStatCards()
    {
        return new List<StatCardData>
        {
            new StatCardData
            {
                Icon = "fas fa-users",
                Value = ParticipantCount.ToString(),
                Label = "Participants",
                Variant = "gray"
            },
            new StatCardData
            {
                Icon = "fas fa-tasks",
                Value = Activities.Count.ToString(),
                Label = "Activities",
                Variant = "info"
            },
            new StatCardData
            {
                Icon = "fas fa-play-circle",
                Value = Activities.Count(a => a.Status == ActivityStatus.Open).ToString(),
                Label = "Active",
                Variant = "blue"
            },
            new StatCardData
            {
                Icon = "fas fa-check-circle",
                Value = Activities.Count(a => a.Status == ActivityStatus.Closed).ToString(),
                Label = "Completed",
                Variant = "green"
            }
        };
    }
}
